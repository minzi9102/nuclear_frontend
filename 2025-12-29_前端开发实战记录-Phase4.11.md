Dev Context Snapshot [2025-12-29]
1. 核心任务与状态

    当前目标: 重构患者列表卡片 (PatientCard) UI，优化移动端交互与视觉层级。

    当前状态: ✅ 代码已生成 (Ready to Apply)

    关键文件:

        src/views/patients/index.vue: 修改 Header/Body/Footer 结构，引入下拉菜单。

2. 本次会话变动 (Changelog)

    [UI重构] el-card Header:

        移除: 独立的年龄 Tag。

        新增: el-dropdown (图标: MoreFilled, 旋转90度)，包含"编辑"与"删除"选项。

        逻辑: 添加 @click.stop 阻止冒泡，避免触发卡片详情跳转。

    [UI重构] el-card Body:

        修改: 将年龄信息 (N岁) 移至生日字段旁显示。

    [UI重构] el-card Footer:

        移除: 原有的"编辑/删除"按钮组。

        保留: 仅保留"新建治疗记录"按钮，样式改为 plain。

    [Style]: 新增 .text-danger 样式，使下拉菜单中的删除项显示为红色。

3. 挂起的任务与已知问题 (CRITICAL)

    TODO: 将提供的 <template>, <script> (imports), <style> 代码片段应用到 src/views/patients/index.vue。

    Note: 需验证移动端点击"三个点"图标的触控区域是否足够灵敏。

4. 环境与依赖上下文

    Tech Stack: Vue 3, TypeScript, Element Plus (Icons: @element-plus/icons-vue)

    Config: 依赖 MoreFilled 图标组件。

Dev Context Snapshot [2025-12-29]
1. 核心任务与状态

    当前目标: 优化 TreatmentCreateDialog 组件的移动端适配、弹窗定位及表单默认值逻辑。

    当前状态: 已完成 (代码已生成，待应用)。

    关键文件:

        src/components/TreatmentCreateDialog.vue: 全量重构 template (布局/属性) 与 script (响应式逻辑/默认值)。

2. 本次会话变动 (Changelog)

    [重构] 响应式布局:

        引入 window.innerWidth 监听，计算 isMobile (<768px)。

        el-form: 移动端 label-position 设为 top，PC 端设为 right。

        el-col: 字段布局调整为 :xs="24" :sm="12" (手机端强制换行)。

    [优化] 弹窗体验 (UI/UX):

        el-dialog: 宽度调整为 :width="isMobile ? '90%' : '600px'"。

        el-dialog: 顶部距离调整为 :top="isMobile ? '4vh' : '5vh'" (解决 PC/Mobile 弹窗位置过低问题)。

        CSS: 放弃了 overflow-y: auto 的内部滚动方案，回归 Element Plus 默认页面滚动逻辑。

    [修改] 表单默认值:

        target: 默认值由 'face' 改为 '' (强制用户选择)。

        duration: 默认值设为 1，步长 1，精度 0 (仅允许整数)。

3. 挂起的任务与已知问题 (CRITICAL)

    TODO: 将最终生成的完整代码覆盖至 src/components/TreatmentCreateDialog.vue。

    NOTE: 用户明确决定删除用于强制内部滚动的全局 <style> 块，保留 scoped 样式。

4. 环境与依赖上下文

    Tech Stack: Vue 3 (Composition API), TypeScript, Element Plus.

    Utils: 使用原生 window.addEventListener('resize') 实现响应式判断，未引入 @vueuse/core。
