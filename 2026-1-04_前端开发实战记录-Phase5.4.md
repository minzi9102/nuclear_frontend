Dev Context Snapshot [2026/01/04 23:45]
1. 核心任务与状态

    当前目标: 前端性能极致优化 (针对弱网/局域网环境消除白屏)。

    当前状态: 构建层优化已完成 (Build Optimized) / 待部署配置。

    关键文件:

        vite.config.ts: 集成 Gzip 压缩、分包策略 (manualChunks) 及打包分析。

        src/router/index.ts: 全量重构为路由懒加载 (Dynamic Imports)。

        tsconfig.app.json: (隐含) 修正 noUnusedLocals 以通过构建检查。

2. 本次会话变动 (Changelog)

    [新增] vite.config.ts: 引入 vite-plugin-compression (threshold: 10kb) 和 rollup-plugin-visualizer。

    [重构] vite.config.ts: 实现 manualChunks 策略，拆分 element-plus 和 vue-vendor。

    [重构] src/router/index.ts: 将 import X from ... 替换为 component: () => import(...)。

    [修复] 构建报错: 解决 5 个 TS6133 (unused variables) 报错，确保 npm run build 通过。

3. 挂起的任务与已知问题 (CRITICAL)

    TODO: 在 index.html 中注入 App Shell (CSS Loading 动画) 以优化首屏视觉体验。

    TODO: 编写 nginx.conf 并开启 gzip_static on 及强缓存策略 (Cache-Control)。

    TODO: 构建 Docker 镜像并验证 NAS/PC 部署方案。

4. 环境与依赖上下文

    Tech Stack: Vue 3, Vite, TypeScript, Element Plus.

    New Deps: vite-plugin-compression, rollup-plugin-visualizer (DevDependencies).

    Config:

        server.host: '0.0.0.0'

        build.chunkSizeWarningLimit: 1000